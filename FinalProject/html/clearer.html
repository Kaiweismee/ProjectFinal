<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>SmartSort AIï½œæ¸…é‹ç®¡ç†é¢æ¿</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- é€™é æ˜¯æ”¾åœ¨ html è³‡æ–™å¤¾è£¡ï¼Œæ‰€ä»¥å›åˆ°ä¸Šå±¤æ‰¾ css -->
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/clearer.css">
</head>

<body class="collector-page">

  <!-- =========================== -->
  <!-- NAVIGATION BAR              -->
  <!-- =========================== -->

  <header class="navbar">
    <div class="nav-left">
      <div class="logo-dot"></div>
      <div>
        <div class="logo-title">SmartSort AI</div>
        <div class="logo-sub">AI SMART RECYCLING</div>
      </div>
    </div>

    <div class="nav-auth">
      <a class="btn-login">æ­¡è¿</a>
      <a class="btn-register">ç™»å‡ºå¸³è™Ÿ</a>
    </div>
  </header>

  <!-- =========================== -->
  <!-- HEROï¼šæ¸…é‹äººå“¡ç¸½è¦½         -->
  <!-- =========================== -->

  <section class="hero">
    <div>
      <p class="hero-sub-tagline">FOR CLEANING STAFF & COLLECTORS</p>
      <h1 class="hero-title">æ¸…é‹ç®¡ç†é¢æ¿</h1>
      <p class="hero-sub">
        é€™å€‹é é¢æä¾›æ¸…é‹äººå“¡å³æ™‚æŒæ¡å„åƒåœ¾æ¡¶æ»¿æº¢ç‹€æ…‹ã€ä»Šæ—¥è·¯ç·šèˆ‡ç•°å¸¸è­¦ç¤ºï¼Œ
        è®“æ¸…é‹å·¥ä½œæ›´æœ‰æ•ˆç‡ã€æ›´æœ‰ç³»çµ±ã€‚
      </p>

      <div class="hero-tags">
        <span>å³æ™‚æ»¿æº¢è­¦ç¤º</span>
        <span>å»ºè­°æ¸…é‹è·¯ç·š</span>
        <span>è¨­å‚™ç•°å¸¸æé†’</span>
        <span>æ¸…é‹ç´€éŒ„å›å ±</span>
      </div>
    </div>
  </section>

  <!-- =========================== -->
  <!-- ä»Šæ—¥ä»»å‹™ç¸½è¦½               -->
  <!-- =========================== -->

<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SmartSort AIï½œç®¡ç†ç«¯å„€è¡¨æ¿</title>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: "Noto Sans TC", sans-serif;
            background: #f7f9fb;
            color: #333;
        }

        h1 {
            text-align: center;
            padding: 25px 0;
            font-size: 30px;
            color: #0bbf63;
            font-weight: 700;
        }

        .container {
            width: 90%;
            max-width: 1000px;
            background: #ffffff;
            margin: auto;
            padding: 25px;
            border-radius: 14px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.07);
        }

        .title {
            font-size: 22px;
            margin-bottom: 10px;
            color: #0bbf63;
            font-weight: 600;
        }

        select {
            padding: 10px 14px;
            border-radius: 10px;
            border: 1px solid #0bbf63;
            background: #ffffff;
            color: #0bbf63;
            font-size: 16px;
            outline: none;
            cursor: pointer;
            transition: 0.3s;
        }

        select:hover {
            box-shadow: 0 0 8px rgba(11, 191, 99, 0.3);
        }

        /* âš ï¸ å¿«æ»¿è­¦ç¤º */
        #alertBox {
            margin-top: 18px;
            margin-bottom: 20px;
            padding: 14px 18px;
            border-radius: 10px;
            background: #fff8e6;
            border: 1px solid #ffcc80;
            color: #d97706;
            font-size: 15px;
            display: none;
        }

        .update-time {
            font-size: 14px;
            color: #666;
            text-align: right;
            margin-bottom: 15px;
        }
    </style>
</head>

<body>

    <h1>SmartSort AIï½œæ¸…æ½”äººå“¡ç›£æ§ä¸­å¿ƒ</h1>

    <div class="container">

        <div class="title">ğŸ“ é¸æ“‡åƒåœ¾æ¡¶ä½ç½®</div>

        <select id="locationSelect">
            <option value="eng1F">å·¥ç¨‹å¤§æ¨“ 1F</option>
            <option value="im2F">è³‡ç®¡å¤§æ¨“ 2F</option>
            <option value="lib1F">åœ–æ›¸é¤¨ 1F</option>
        </select>

        <!-- å¿«æ»¿è­¦ç¤ºå€ -->
        <div id="alertBox"></div>

        <p class="update-time" id="updateTime">æœ€å¾Œæ›´æ–°ï¼š2025-01-10 14:32</p>

        <canvas id="binChart"></canvas>

    </div>

    <script>
        /* ======= å‡ IoT è³‡æ–™ ======= */
        const iotData = {
            eng1F: {
                name: "å·¥ç¨‹å¤§æ¨“ 1F",
                bins: { plastic: 68, metal: 82, paper: 40, glass: 92, general: 97 }
            },
            im2F: {
                name: "è³‡ç®¡å¤§æ¨“ 2F",
                bins: { plastic: 45, metal: 30, paper: 78, glass: 55, general: 60 }
            },
            lib1F: {
                name: "åœ–æ›¸é¤¨ 1F",
                bins: { plastic: 88, metal: 90, paper: 65, glass: 72, general: 95 }
            }
        };

        /* SmartSort AI ä¸»é¡Œè‰²ï¼šç¶ è‰² */
        function getColor(val) {
            if (val >= 95) return "#ef4444"; // ç´…è‰²
            if (val >= 85) return "#f59e0b"; // é»ƒè‰²
            return "#0bbf63";               // ç§‘æŠ€ç¶ 
        }

        /* ======= å¿«æ»¿è­¦ç¤º ======= */
        function updateAlert(locationKey) {
            const bins = iotData[locationKey].bins;
            const alertBox = document.getElementById("alertBox");

            let messages = [];

            for (const [type, val] of Object.entries(bins)) {
                if (val >= 95) messages.push(`ğŸ”´ ${type} åƒåœ¾å·²æ»¿ (${val}%)`);
                else if (val >= 85) messages.push(`âš ï¸ ${type} åƒåœ¾å¿«æ»¿ (${val}%)`);
            }

            if (messages.length === 0) {
                alertBox.style.display = "none";
            } else {
                alertBox.innerHTML = messages.join("<br>");
                alertBox.style.display = "block";
            }
        }

        const ctx = document.getElementById("binChart");
        let chart;

        /* ======= æ›´æ–°åœ–è¡¨ ======= */
        function updateChart(locationKey) {
            const data = iotData[locationKey].bins;

            const values = [
                data.plastic,
                data.metal,
                data.paper,
                data.glass,
                data.general
            ];

            const barColors = values.map(v => getColor(v));

            document.getElementById("updateTime").innerText =
                "æœ€å¾Œæ›´æ–°ï¼š" + new Date().toLocaleString();

            updateAlert(locationKey);

            if (chart) {
                chart.data.datasets[0].data = values;
                chart.data.datasets[0].backgroundColor = barColors;
                chart.update();
                return;
            }

            /* === Chart å»ºç«‹ === */
            chart = new Chart(ctx, {
                type: "bar",
                data: {
                    labels: ["å¡‘è† ", "é‡‘å±¬", "ç´™é¡", "ç»ç’ƒ", "ä¸€èˆ¬åƒåœ¾"],
                    datasets: [{
                        label: "æ»¿æº¢åº¦ (%)",
                        data: values,
                        backgroundColor: barColors,
                        borderColor: "#0bbf63",
                        borderWidth: 1.5
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        x: {
                            ticks: { color: "#444" }
                        },
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { color: "#444" }
                        }
                    }
                }
            });
        }

        updateChart("eng1F");

        document.getElementById("locationSelect")
            .addEventListener("change", function () {
                updateChart(this.value);
            });

    </script>

</body>

</html>


